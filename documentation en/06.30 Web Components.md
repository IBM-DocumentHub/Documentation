## Web Components

DocumentHub Web Components can be used to quickly embed content into web pages. They can be used in React or in any other web application by directly embedding the HTML.


### Content Authorization

If the ```caasToken``` cookie is present, the components will use it automatically. Otherwise the authorization is done based on the token provided in component params list.

Catalogs which allow access to "all" libraries and users, can be accessed without authorization (```"viewers": ["all": ["all"]]```).


### How to load web components

#### React

Install the documenthub-web-components package:

```
npm i documenthub-web-components
```

Import documenthub-components:

```
import { Article, ... } from 'documenthub-web-components'
```


#### HTML

```
<script 
    type="module" 
    src='https://unpkg.com/documenthub-web-components@latest/dist/lib/index.js'>
</script>
```



### Article component

Article component shows a document in a web page in the form of an article - all contents shown in a long, single page. Optionally it can show the table of contents in the begining of the article.

#### How to use in React

<Article
    ...
/>

#### How to use in HTML

```
<documenthub-article
    catalogid="your-catalog-id"
    documentid="your-document-id"
    language="your-document-language"
    headings="true/false"
    token="your-auth-token"
/>
```
        
- catalogid points to the catalog from which the document will be loaded
- documentid points to the document to be displayed
- language is the language of the document you want to display
- headings specify if the headings will be automatically displayed based on the module name
- token is required only if you don't have the caasToken cookie set

##### Example

```
<script 
    type="module" 
    src='https://unpkg.com/documenthub-web-components@latest/dist/lib/index.js'>
</script>

<documenthub-article
    catalogid="IcCVI6RO"
    documentid="documentation"
    language="en"
    headings="false"
/>
```


### Document component

Document component shows a document in a web page, one module at a time. The table of contents is shown on the left side and one module content at a time, on the rest of the page. 

#### How to use

Include this code in your page:
```
<documenthub-document
    catalogid="your-catalog-id"
    documentid="your-document-id"
    language="your-document-language"
    headings="true/false"
    token="your-auth-token"
/>
```

- catalogid points to the catalog from which the document will be loaded
- documentid points to the document to be displayed
- language is the language of the document you want to display
- headings specify if the headings will be automatically displayed based on the module name
- token is required only if you don't have the caasToken cookie set


#### Example

```
<documenthub-document
    catalogid="IcCVI6RO"
    documentid="documentation"
    language="en"
    headings="false"
/>
```


### Edit Form Component

Document edit component provides a solution to edit one document at a time, there are two possible ways:
- as a form, if the provided catalog has an existing ```schema``` object
- under the form of a ```textarea``` which takes the input as a JSON. 

See a **document schema example** here: https://github.com/IBM-DocumentHub/ContentRepository-Demo/blob/main/catalog.json


#### How to use

Include this code in your page:

```
<documenthub-edit
    catalogid="your-catalog-id"
    documentid="your-document-id"
    language="your-document-language"
    token="your-auth-token"
/>
```

- catalogid points to the catalog from which the document will be loaded
- documentid points to the document to be edited
- language is the language of the document you want to edit
- token is required only if you don't have the caasToken cookie set


#### Example

```
<script 
    type="module" 
    src='https://unpkg.com/documenthub-components@latest/dist/documenthub-components/documenthub-components.esm.js'>
</script>

<documenthub-edit
    catalogid="demo"
    documentid="test"
    language="en"
    token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhcHBJZCI6InRlc3QiLCJsaWJyYXJ5SWQiOiJ0ZXN0IiwidXNlcklkIjoidGVzdCIsImlhdCI6MTY0MzcyMTU4MCwiZXhwIjoxNjc5NzIxNTgwfQ.GLDuAb2BuFfJWSv-lTPPQnUSwTB37tMIlB3wS3yZJKQ"
/>
```


### Search Page component

Search page component renders a set of features to easly search through DocumentHub's content and display it ease.

![Architecture](_attachments/searchpage-component.png)

#### How to use

Include this code in your page:

```
<documenthub-searchpage 
    catalogid="your-catalog-id" 
    documenthref="link-to-document-page"
    columns="1"
    template=""
    header=""
    table=""
    token="your-auth-token" 
/>
```

- catalogid is the catalog in which the component will run the search
- documenthref is the link where the component will redirect when the user clicks a result (I.E https://hostname/document/{documentid}/{language}).
  The following variables can be used in the documenthref URL:
    - {catalogid}
    - {documentid}
    - {language}
- columns is the number of columns used for displaying results
- template is the html template for customizing results
- table is used instead of template if you want a table format for results
- token is required only if you don't have the caasToken cookie set


#### Examples

```
<documenthub-searchpage
    catalogid="FTxRp9KK"
/>
```

```
<documenthub-searchpage
    catalogid="FTxRp9KK"
    table="{"headers":["Title", "Cost"], "data":["document.title", "document.cost"]}"
/>
```

```
<documenthub-searchpage
    catalogid="FTxRp9KK"
    header="<div><div>Title</div><div>Cost</div></div>"
    template="<div><div>{document.title}</div><div>{document.cost}</div></div>"
/>
```


### Quiz component

Quiz component shows a quiz in a web page along with the complete functionality.


#### How to use

```
<documenthub-quiz
    catalogid="your-catalog-id"
    documentid="your-document-id"
    language="your-document-language"
    token="your-auth-token"
/>
```
        
- catalogid - points to the catalog from which the document will be loaded
- documentid - points to the document which contains the quiz
- language (optional) - is the language of the document which contains the quiz,
- token (optional) - is required only if you don't have the caasToken cookie set


#### Example

```
<documenthub-quiz
    catalogid="001"
    documentid="html-test"
    language="en"
/>
```


### Course component

...
