## First application with Angular + DocumentHub CMS + IBM SSO

### Create Angular application

Follow the steps from angular.io website: https://angular.io/guide/setup-local

```
npm install -g @angular/cli
ng new Angular-DocumentHub-App
cd Angular-DocumentHub-App
ng serve -o --port 3000
```

Edit the ```launch.json``` file and change port 4200 with 3000.


### Install DocumentHub

To install the DocumentHub Javascript package, run the following command in your Angular application root folder (Angular-DocumentHub-App):

```
npm i documenthub8
```


### Load content from GitHub and display it in an Angular page

Lets load in our Angular application a markdown file from GitHub: [https://github.com/IBM-DocumentHub/Documentation/blob/master/documentation%20en/document.json](https://github.com/IBM-DocumentHub/Documentation/blob/master/documentation%20en/01%20About%20DocumentHub.md)

Replace the content of the file ```src/app/app.component.ts``` with the following:

```
import { Component } from '@angular/core';
import * as documenthub from "documenthub8";

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})

export class AppComponent {
  documentContentAsPage: any;

  ngOnInit() {
    (async () => {
      this.documentContentAsPage = await documenthub.getDocumentFileAsHtml('IcCVI6RO', 'documentation', 'en', '01 About DocumentHub.md');
    })();
  }
}
```

Add the following line in your component template ```src/app/app.component.ts```:

```
<div [innerHTML]="documentContentAsPage"></div>
```

Save and run the application:

```
ng serve -o --port 3000
```

### Add IBMid SSO

First, make sure the application is started on port 3000:

```
ng serve -o --port 3000
```

To add IBMid SSO to our Angular application, two lines of code are required at the beginning of the ```app.component.ts``` file:

```
import * as documenthub from "documenthub8";
documenthub.ensureIBMidLogin('demo')
```

After the SSO login, the user token will be stored as a cookie and the browser will return to the initial URL.

Let's show the current user token in our app. Replace the file ```app.component.ts``` with the following:

```
import { Component } from '@angular/core';
import * as documenthub from "documenthub8";

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})
export class AppComponent {
  title = 'User details';
  userDetails = "";


  ngOnInit() {
    documenthub.ensureIBMidLogin('demo');
    
    this.userDetails = JSON.stringify(documenthub.getDecodedTokenCookie(), null, 2)}
}
```

Add the following line in your template (I.E ```app.component.html```):
```
<p>{{userDetails}}</p>
```

### Conclusion

In this tutorial we created a Angular application with SSO and DocumentHub CMS, which can access content from any GitHub repository.

You can now manage your content in GitHub and load it in your application. You can also update content in GitHub from your application, the same as you do with a database.
