## First application with Angular + DocumentHub CMS + IBM SSO

### Create Angular application

Follow the steps from angular.io website: https://angular.io/guide/setup-local

```
npm install -g @angular/cli
ng new Angular-DocumentHub-App
cd Angular-DocumentHub-App
ng serve -o --port 3000
```

Edit the ```launch.json``` file and change port 4200 with 3000.


### Embed a DocumentHub document

In your Angular application go to the root ```index.html``` and add the DocumentHub Components styles
```
<link rel="stylesheet" href="https://unpkg.com/documenthub-web-components@latest/dist/lib/index.css">
```

Add the **CUSTOM_ELEMENTS_SCHEMA** setting in your ```app/app.module.ts``` to tell Angular to use custom HTML tags:

```
import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';  // import CUSTOM_ELEMENTS_SCHEMA here
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule,
    AppRoutingModule
  ],
  providers: [],
  bootstrap: [AppComponent],
  schemas: [CUSTOM_ELEMENTS_SCHEMA]  // add it here
})
export class AppModule { }
```

Add the custom tag to the Angular component in the ```app.component.html``` file:
```
<documenthub-document
    catalogid="IcCVI6RO"
    documentid="documentation"
    language="en"
    headings="false"
></documenthub-document>
```

Add the script which handles the DocumentHub component logic in the ```app.component.ts``` file:
```
export class AppComponent {
  title = 'Angular-DocumentHub-App';

  public loadExternalScript(url: string) {
    const script = document.createElement('script')
    script.innerHTML = ''
    script.src = url
    document.body.appendChild(script)
  }

  // init component after the Angular component is initialzed
  ngOnInit() {
    if (!document.querySelector('#documenthub-page')) {
      this.loadExternalScript("https://unpkg.com/documenthub-web-components@latest/dist/lib/index.js")
    }
  }
}
```

Save and run the application:

```
ng serve -o --port 3000
```


### Install DocumentHub

To install the DocumentHub Javascript package, run the following command in your Angular application root folder (Angular-DocumentHub-App):

```
npm i documenthub8
```

### Add IBMid SSO

First, make sure the application is started on port 3000:

```
ng serve -o --port 3000
```

To add IBMid SSO to our Angular application, two lines of code are required at the beginning of the ```app.component.ts``` file:

```
import * as documenthub from "documenthub8";
documenthub.ensureIBMidLogin('demo')
```

After the SSO login, the user token will be stored as a cookie and the browser will return to the initial URL.

Let's show the current user token in our app. Replace the file ```app.component.ts``` with the following:

```
import { Component } from '@angular/core';
import * as documenthub from "documenthub8";

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})
export class AppComponent {
  title = 'User details';
  userDetails = "";


  ngOnInit() {
    documenthub.ensureIBMidLogin('demo');
    
    this.userDetails = JSON.stringify(documenthub.getDecodedTokenCookie(), null, 2)}
}
```

Add the following line in your template (I.E ```app.component.html```):
```
<p>{{userDetails}}</p>
```


### Load content from GitHub and display it in an Angular page





### Conclusion

In this tutorial we created a Angular application with SSO and DocumentHub CMS, which can access content from any GitHub repository.

You can now manage your content in GitHub and load it in your application. You can also update content in GitHub from your application, the same as you do with a database.
